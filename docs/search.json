[
  {
    "objectID": "EDA.html",
    "href": "EDA.html",
    "title": "ST558 Final Project EDA - Lee Worthington",
    "section": "",
    "text": "The dataset used for this analysis is derived from the Behavioral Risk Factor Surveillance System (BRFSS) 2015, a health-related telephone survey conducted annually by the Centers for Disease Control and Prevention (CDC). The BRFSS collects data from over 400,000 Americans on health-related risk behaviors, chronic health conditions, and the use of preventative services.\nFor this project Ill focus on the diabetes_binary_health_indicators_BRFSS2015.csv file that contains 253680 survey responses, the main goal is to predict Diabetes_binary which has the below levels. - 0: No diabetes - 1: Prediabetes or diabetes\nThere are 21 potential predictors in the data, since I dont know anything about diabetes I will be using all of the predictors when modelling rather than making assumptions about what may be relevant\n\nHighBP: High blood pressure (N/Y)\nHighChol: High cholesterol (N/Y)\nCholCheck: Cholesterol check within the past five years (N/Y)\nBMI: Body mass index (numeric)\nSmoker: Smoker status (N/Y)\nStroke: History of stroke (N/Y)\nHeartDiseaseorAttack: Coronary heart disease or myocardial infarction (N/Y)\nPhysActivity: Physical activity in the past 30 days (N/Y)\nFruits: Consumption of fruits at least once per day (N/Y)\nVeggies: Consumption of vegetables at least once per day (N/Y)\nHvyAlcoholConsump: Heavy alcohol consumption (N/Y)\nAnyHealthcare: Access to healthcare coverage (N/Y)\nNoDocbcCost: Inability to see a doctor due to cost (N/Y)\nGenHlth: General health status (Excellent/VGood/Good/Fair/Poor)\nMentHlth: Days in the past 30 days when mental health was not good (numeric)\nPhysHlth: Days in the past 30 days when physical health was not good (numeric)\nDiffWalk: Difficulty walking or climbing stairs (N/Y)\nSex: Gender (F/M)\nAge: Age categories (18-24, 25-29, 30-34, 35-39, 40-44, 45-49, 50-54, 55-59, 60-64, 65-69, 70-74, 75-79, 80+)\nEducation: Education level (No School, Elem, Some HS, HS Grad, Some College, College Grad)\nIncome: Income categories (<$10k, $10-15k, $15-20k, $20-25k, $25-35k, $35-50k, $50-75k, >$75k)\n\n\n\n\nThe main goal of the EDA here is to get a better idea of the data and to spot potential relationships in the data, to hopefully build a model that can accurately predict diabetes based on the available predictors. Since most of the predictors are categorical and there are a large number of them, I will mainly focus on understanding the following in the EDA:\n\nUnderstanding the Distribution: Primarily how the distributions for each predictor vary based on having or not having diabetes, in order to identify potentially relevant predictors\nChecking Data Quality: ID any potential issues with the data, that may require adjustment. That being said my general approach is to not clean or remove data unless im certain its an error, which I cannot be with this data"
  },
  {
    "objectID": "EDA.html#print-summary-results",
    "href": "EDA.html#print-summary-results",
    "title": "ST558 Final Project EDA - Lee Worthington",
    "section": "Print summary results",
    "text": "Print summary results\n\nsummary(df)\n\n Diabetes_binary HighBP     HighChol   CholCheck       BMI        Smoker    \n No :218334      N:144851   N:146089   N:  9470   Min.   :12.00   N:141257  \n Pre: 35346      Y:108829   Y:107591   Y:244210   1st Qu.:24.00   Y:112423  \n Yes:     0                                       Median :27.00             \n                                                  Mean   :28.38             \n                                                  3rd Qu.:31.00             \n                                                  Max.   :98.00             \n                                                                            \n Stroke     HeartDiseaseorAttack PhysActivity Fruits     Veggies   \n N:243388   N:229787             N: 61760     N: 92782   N: 47839  \n Y: 10292   Y: 23893             Y:191920     Y:160898   Y:205841  \n                                                                   \n                                                                   \n                                                                   \n                                                                   \n                                                                   \n HvyAlcoholConsump AnyHealthcare NoDocbcCost  GenHlth         MentHlth     \n N:239424          N: 12417      N:232326    Exc  :45299   Min.   : 0.000  \n Y: 14256          Y:241263      Y: 21354    VGood:89084   1st Qu.: 0.000  \n                                             Good :75646   Median : 0.000  \n                                             Fair :31570   Mean   : 3.185  \n                                             Poor :12081   3rd Qu.: 2.000  \n                                                           Max.   :30.000  \n                                                                           \n    PhysHlth      DiffWalk   Sex             Age               Education     \n Min.   : 0.000   N:211005   F:141974   60-64  :33244   None/Kinder :   174  \n 1st Qu.: 0.000   Y: 42675   M:111706   65-69  :32194   Elem        :  4043  \n Median : 0.000                         55-59  :30832   Some HS     :  9478  \n Mean   : 4.242                         50-54  :26314   HS Grad     : 62750  \n 3rd Qu.: 3.000                         70-74  :23533   Some College: 69910  \n Max.   :30.000                         45-49  :19819   College Grad:107325  \n                                        (Other):87744                        \n     Income     \n >$75k  :90385  \n $50-75k:43219  \n $35-50k:36470  \n $25-35k:25883  \n $20-25k:20135  \n $15-20k:15994  \n (Other):21594  \n\n\n\nBased on the dataset descriptions and the data, these are the variables and types:\n\nDiabetes_binary: Factor (0: No diabetes, 1: Prediabetes or diabetes)\nHighBP: Factor (0: No, 1: Yes)\nHighChol: Factor (0: No, 1: Yes)\nCholCheck: Factor (0: No, 1: Yes)\nBMI: Numeric\nSmoker: Factor (0: No, 1: Yes)\nStroke: Factor (0: No, 1: Yes)\nHeartDiseaseorAttack: Factor (0: No, 1: Yes)\nPhysActivity: Factor (0: No, 1: Yes)\nFruits: Factor (0: No, 1: Yes)\nVeggies: Factor (0: No, 1: Yes)\nHvyAlcoholConsump: Factor (0: No, 1: Yes)\nAnyHealthcare: Factor (0: No, 1: Yes)\nNoDocbcCost: Factor (0: No, 1: Yes)\nGenHlth: Factor with 5 levels (1: Excellent, 2: Very good, 3: Good, 4: Fair, 5: Poor)\nMentHlth: Numeric\nPhysHlth: Numeric\nDiffWalk: Factor (0: No, 1: Yes)\nSex: Factor with 2 levels (0: Female, 1: Male)\nAge: Factor with 13 levels (1: 18-24, 2: 25-29, 3: 30-34, 4: 35-39, 5: 40-44, 6: 45-49, 7: 50-54, 8: 55-59, 9: 60-64, 10: 65-69, 11: 70-74, 12: 75-79, 13: 80 or older)\nEducation: Factor with 6 levels (1: Never attended school or only kindergarten, 2: Grades 1 through 8, 3: Grades 9 through 11, 4: Grade 12 or GED, 5: College 1 year to 3 years, 6: College 4 years or more)\nIncome: Factor with 8 levels (1: Less than $10,000, 2: $10,000 to less than $15,000, 3: $15,000 to less than $20,000, 4: $20,000 to less than $25,000, 5: $25,000 to less than $35,000, 6: $35,000 to less than $50,000, 7: $50,000 to less than $75,000, 8: $75,000 or more)\n\n\n\nSome notes\n\nIn the kraggle notes they say Diabetes_binary should have 3 levels (0 = no diabetes 1 = prediabetes 2 = diabetes), but there are no records with value = 2"
  },
  {
    "objectID": "EDA.html#review-plots",
    "href": "EDA.html#review-plots",
    "title": "ST558 Final Project EDA - Lee Worthington",
    "section": "Review plots",
    "text": "Review plots\n\n# plot pairs\n#GGally::ggpairs(df, columns = c(1, 2, 3, 4)) \n#GGally::ggpairs(df, columns = c(1, 5, 6, 7))\n#GGally::ggpairs(df, columns = c(1, 8, 9, 10))\n#GGally::ggpairs(df, columns = c(1, 11, 12, 13))\n#GGally::ggpairs(df, columns = c(1, 14, 15, 16))\n#GGally::ggpairs(df, columns = c(1, 17, 18, 19))\n# Mosts of these are ahrd to read and not very informative, use custom plots instead\n\n# Define different variable types\nfactor_vars_heatmap <- c(\n  \"HighBP\", \"HighChol\", \"CholCheck\", \"Smoker\", \"Stroke\", \"HeartDiseaseorAttack\",\n  \"PhysActivity\", \"Fruits\", \"Veggies\", \"HvyAlcoholConsump\", \"AnyHealthcare\",\n  \"NoDocbcCost\", \"DiffWalk\", \"Sex\"\n)\nfactor_vars_histogram <- c(\"GenHlth\", \"Age\", \"Education\", \"Income\")\nnumeric_vars <- c(\"BMI\", \"MentHlth\", \"PhysHlth\")\n\n# Function to generate heatmap for confusion matrix of factor variables\ngenerate_heatmap <- function(var) {\n  confusion <- table(df$Diabetes_binary, df[[var]])\n  confusion_melted <- melt(confusion)\n  confusion_melted$percentage <- confusion_melted$value / sum(confusion_melted$value) * 100\n  confusion_melted$label <- paste(comma(confusion_melted$value), sprintf(\"(%.1f%%)\", confusion_melted$percentage))\n  \n  ggplot(confusion_melted, aes(Var1, Var2, fill = value)) +\n    geom_tile(alpha = 0.5) +\n    geom_text(aes(label = label), color = \"black\") +\n    scale_fill_gradient(low = \"lightgreen\", high = \"darkgreen\") +\n    labs(title = paste(\"Confusion Matrix for\", var),\n         x = \"Diabetes_binary\",\n         y = var,\n         fill = \"Count\") +\n    theme_minimal() +\n    scale_x_discrete(labels = c(\"0\", \"1\")) +\n    scale_y_discrete(labels = c(\"0\", \"1\"))\n}\n\n# Function to generate histogram for numeric variables with log scale on x-axis\ngenerate_histogram_numeric <- function(var) {\n  ggplot(df, aes_string(x = var, fill = \"Diabetes_binary\")) +\n    geom_histogram(position = \"identity\", alpha = 0.5, bins = 30) +\n    #scale_x_log10() +\n    labs(title = paste(\"Histogram of\", var, \"partitioned by Diabetes_binary (Log Scale)\"), x = var, y = \"Count\") +\n    theme_minimal()\n}\n\n# Function to generate boxplot for numeric variables\ngenerate_boxplot_numeric <- function(var) {\n  ggplot(df, aes(x = Diabetes_binary, y = df[[var]], fill = Diabetes_binary)) +\n    geom_boxplot(alpha = 0.5) +\n    scale_y_log10() +\n    labs(title = paste(\"Boxplot of\", var, \"partitioned by Diabetes_binary\"), x = \"Diabetes_binary\", y = var) +\n    theme_minimal()\n}\n\n# Function to generate bar plot for factor variables with more than 3 levels\ngenerate_histogram_factor <- function(var) {\n  df |>\n    group_by(!!sym(var), Diabetes_binary) |>\n    \n    summarise(count = n(), .groups = \"drop\") |>\n    \n    group_by(!!sym(var)) |>\n    \n    mutate(\n      percentage = count / sum(count) * 100,\n      label = paste0(sprintf(\"%.1f\", percentage), \"%\")\n    ) |>\n    \n    ggplot(aes_string(x = var, y = \"count\", fill = \"Diabetes_binary\")) +\n    geom_bar(position = \"stack\", stat = \"identity\", alpha = 0.5) +\n    geom_text(aes(label = label), position = position_stack(vjust = 0.5), color = \"black\") +\n    labs(title = paste(\"Bar Plot of\", var, \"partitioned by Diabetes_binary\"), x = var, y = \"Count\") +\n    theme_minimal() +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1))\n}"
  }
]